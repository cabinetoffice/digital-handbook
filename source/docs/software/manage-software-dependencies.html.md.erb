---
title: How to manage third party software dependencies
last_reviewed_on: 2024-11-04
review_in: 6 months
---

# <%= current_page.data.title %>


When you develop and operate a service, it’s important to keep any third party dependencies you use up-to-date. By doing this, you can avoid potential security vulnerabilities.

Any automated tools you use to manage third party dependencies should be compatible with [standard programming languages](https://guidance.cabinetoffice.gov.uk/standards/programming-languages.html#content). The chosen tools should not disclose potential security vulnerabilities to the public.

You can read more about [managing software dependencies in the Service Manual](https://www.gov.uk/service-manual/technology/managing-software-dependencies), where you will find a list of common dependency management tools.

## **Update dependencies frequently**

Update your dependencies frequently rather than in ‘big bang’ batches. This works well with [continuous delivery](https://guidance.cabinetoffice.gov.uk/standards/continuous-delivery.html) principles and makes sure the changes introduced are small and can be automatically tested.

There are tools which scan GitHub repositories and raise pull requests (PRs) when they find dependency updates. Teams at the Cabinet Office are using:

* [Dependabot](https://dependabot.com/) \- The GOV.UK docs contain [guidance on using Dependabot](https://docs.publishing.service.gov.uk/manual/manage-ruby-dependencies.html) and [how the PRs raised should be reviewed](https://docs.publishing.service.gov.uk/manual/merge-pr.html#dependabot)  
  Note: this is separate from the [security-only updates provided automatically by GitHub Dependabot](https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-alerts-for-vulnerable-dependencies).  
  Note: repos requiring at least one approving review for PRs cannot, and should not, use [Dependabot’s auto-approve-and-merge facility](https://docs.github.com/en/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/automating-dependabot-with-github-actions).  
  Note: we have not enabled “Treat PR approval as a request to merge”, as this would lead to a surprising behaviour at the point of approval.  
  Note: GOV.UK has implemented [RFC-167](https://github.com/alphagov/govuk-rfcs/blob/main/rfc-167-auto-patch-dependencies.md) which allows automatic patching of all dependencies in certain cases.  
* [PyUp](https://pyup.io/) \- a Python dependency checker. PyUp will monitor for updates and vulnerabilities

All the above tools are free to use on public repositories.

The Cyber Security team at Cabinet Office Digital will review the repositories that do not have dependency management in use and will turn on Dependabot where required. Service teams are free to use a different tool such as [Snyk](https://snyk.io/), but will need to add a `no-dependabot` tag to their repository for monitoring purposes. You can contact Cyber Security if you have any questions or need help.

## **Monitor for vulnerabilities**

You should monitor for potential vulnerabilities in every layer of your technology stack. This is not straightforward but tooling exists to help. The Service Manual provides [guidance on browser technology, tooling and mailing lists you can subscribe to](https://www.gov.uk/service-manual/technology/managing-software-dependencies#managing-risks-in-third-party-code).

Most of the tooling that helps you stay on top of dependency updates will also highlight vulnerabilities. Additional tooling includes:

### [**GitHub security alerts**](https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-alerts-for-vulnerable-dependencies)

When GitHub discovers or is informed about a vulnerability, it will email an alert to the repository owner and users with admin access. GitHub security alerts will be turned on for all Alphagov repositories. If services wish to opt out of security advisories on their repository, they can contact Cyber Security and then add the `no-security-advisories` tag to their repository.

### [**Snyk**](https://snyk.io/)

Snyk is capable of detecting vulnerabilities in a variety of languages including all the [standard programming languages](https://guidance.cabinetoffice.gov.uk/standards/programming-languages.html#content). You can configure Snyk to raise PRs, email regular reports and alert you when new vulnerabilities are detected.

If you have an old repository that is receiving security alerts but is not being worked on or maintained, you may wish to archive your repository instead.

### **Splunk dashboards**

The Cyber Security team has created a Splunk dashboard. This gives service teams visibility of vulnerabilities in their repositories. To allow for your repositories to be categorised correctly in the Splunk dashboard, please make sure you tag your repository with the service name. If you would like to access the dashboard, contact Cyber Security.

## **Managing Docker dependencies**

### **Rebuild Docker base images**

Like dependencies, Docker base images are also frequently updated. If you run containers as part of your service, you should regularly rebuild your images (and base images) to include the latest updates. Automate this process where possible.

### **Specifying Docker image tags**

The Dockerfile guidance contains advice on how to use [Docker image tags](https://guidance.cabinetoffice.gov.uk/digital-handbook/docs/guidance/software/docs/standards/software/docker.html#using-tags-and-digests-in-from-instructions) to specify the exact container image version to use.

### **Use official Docker base images**

Always use [official base images](https://docs.docker.com/docker-hub/official_images/). Docker Hub regularly scans official images and you can view the results by logging into Docker Hub. If you do not regularly update your base image, you must make sure a manual process exists to monitor and prioritise fixes for detected vulnerabilities.

The Digital Marketplace team uses [Snyk container vulnerability management tooling](https://snyk.io/product/container-vulnerability-management/) to regularly scan base images.

## **Minimise what you need to monitor**

Minimise the things you need to monitor by minimising dependencies where possible. For example, if running containers, make sure you pick the smallest base images.

Also consider managed solutions where possible. For example:

* Use [GOV.UK PaaS buildpacks](https://docs.cloud.service.gov.uk/deploying_apps.html#buildpacks) so you do not have to monitor for Operating System (OS), runtime or programming language vulnerabilities  
* Consider managed container orchestration technology such as [AWS Fargate](https://aws.amazon.com/fargate/) or similar so you do not have to monitor for vulnerabilities in your OS or control plane
